<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Page</title>
    <style>
        body {
            background-image: url('https://i.pinimg.com/736x/ec/88/01/ec88011e4d940a6fbfde37d59b58b85b.jpg');
            background-size: cover;
            font-family: 'Poppins', sans-serif;
            color: #d46a7e;
            margin: 0;
            padding: 20px;
        }
        .container {
            background: #fbf3ed;
            padding: 20px;
            border-radius: 10px;
            max-width: 800px;
            margin: auto;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            position: relative; 
            /* hy mhemme lal heart, laino iza ma hatyta bisir 
            l position taaulo hasab the whole page msh bs l container */
        }
        .recipe-header {
            text-align: center;
        }
        .recipe-img {
            width: 30%;
            border-radius: 5px;
        }
        .categories {
            text-align: center;
            margin-top: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        .category {
            background: #fbf3ed;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
        }
        .favorite-heart {
            position: absolute; 
            top: 20px;
            right: 20px; 
            font-size: 32px;
            cursor: pointer;
            color: red; 
            transition: color 0.3s;
        }
        .favorite-heart.added {
            color: red; 
        }
        .rating-section, .discussion-section {
            margin-top: 20px;
        }
        .star-rating {
            display: flex;
            gap: 5px;
            margin: 10px 0;
        }
        .star {
            cursor: pointer;
            font-size: 24px;
            color: #ccc;
        }
        .star.selected {
            color: #ffcc00;
        }
        .average-rating {
            font-size: 18px;
            margin: 10px 0;
        }
        .discussion-section input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        .discussion-section button {
            padding: 10px 20px;
            background: #d46a7e;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .discussion-section button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .warning {
            color: red;
            font-size: 14px;
            margin-top: 10px;
            display: none;
        }
        .user-info img {
    width: 70px; /* Adjust as needed */
    height: 70px;
    border-radius: 50%;
    object-fit: cover;
}
    </style>
</head>
<body>
    <div class="container">
        <div class="favorite-heart" id="favoriteHeart" onclick="toggleFavorite()">
            ‚ô° 
        </div>

        <div class="recipe-header">
            <h1>Banana Split</h1>
            <img src="C:\Users\USP\OneDrive\Documents\GitHub\webb\bananasplit.png" alt="Recipe Image" class="recipe-img">
            <div class="categories">
                <div class="category">vegetarian</div>
                
            </div>
        </div>

        <div class="user-info">
            <img src="C:\Users\USP\OneDrive\Documents\GitHub\webb\profileranime.png" alt="User Picture" class="user-pic">
            <p>Posted by: <strong>RanimeScoopsüç®</strong></p>
        </div>

        <p><strong>Description:</strong>Banana Split-this classic ice cream dessert starts with a fresh banana,
             three scoops of ice cream (vanilla, chocolate, and strawberry), pineapple, chocolate syrup,
              and strawberries. Oh, and don‚Äôt forget the whipped cream, nuts, and maraschino cherries.
               Grab a spoon and dig in!</p>
        <p><strong>Prep Time:</strong> 10 min | <strong>Cook Time:</strong> 0 min | <strong>Servings:</strong> 1 | <strong>Difficulty:</strong> Easy</p>
        
        <div class="serving-calculator">
            <label for="servingInput">Adjust servings:</label>
            <input type="number" id="servingInput" value="1" min="1" onchange="adjustIngredients()">
        </div>
        
        <h3>Ingredients</h3>
        <ul id="ingredients-list">
            <li data-quantity="1">1 banana</li>
            <li data-quantity="1">1 scoop vanilla ice cream</li>
            <li data-quantity="1">1 scoop chocolate ice cream</li>
            <li data-quantity="30">30g pineapple sauce or diced fresh pineapple</li>
            <li data-quantity="30">30g strawberry sauce or diced fresh strawberries</li>
            <li data-quantity="0">Whipped cream</li> 
            <li data-quantity="0">Whipped cream</li> 
            <li data-quantity="3">3 maraschino cherries</li> 
            <li data-quantity="20">20g finely chopped peanuts or other nuts</li> 
            

        </ul>

       





        <h3>Steps</h3>
        <ol>
            <li>Before you get out the ice cream, make sure you have a long, shallow dish to make your banana split. 
                You can use the traditional banana split boats, glass or disposable,
                 but if you don‚Äôt have those, use the best dish you can find. 
                Pro tip-check your local thrift store for banana split bowls or ask your grandma:) </li>


            <li>First, peel the banana and cut it in half lengthwise.
                 Place the banana slices against the sides of a long, shallow dish.</li>

            <li>Place the scoops of vanilla, chocolate, and strawberry ice cream in a row between the banana slices.</li>

            <li>Drizzle the pineapple sauce (or spoon the fresh pineapple) over the vanilla ice cream.
                 Drizzle the chocolate syrup or hot fudge over the chocolate ice cream. 
                 Drizzle the strawberry syrup (or spoon the fresh strawberries) over the strawberry ice cream.</li>

            <li> Top each scoop of ice cream with a generous dollop of whipped cream and a maraschino cherry.
                 Garnish with the chopped nuts and DIG IN!</li>
        </ol>

        <div class="rating-section">
            <h3>Rate this Recipe</h3>
            <div class="star-rating">
                <span class="star" data-value="1">&#9733;</span>
                <span class="star" data-value="2">&#9733;</span>
                <span class="star" data-value="3">&#9733;</span>
                <span class="star" data-value="4">&#9733;</span>
                <span class="star" data-value="5">&#9733;</span>
            </div>
            <div class="warning" id="ratingWarning">Please log in to rate this recipe.</div>
            <div class="average-rating">
                Average Rating: <span id="averageRating">4.5</span>
            </div>
        </div>

    
        <div class="discussion-section">
            <h3>Discussions</h3>
            <input type="text" placeholder="Add a comment..." id="commentInput">
            <button id="submitCommentBtn" onclick="submitComment()">Submit</button>
            <div class="warning" id="commentWarning">Please log in to submit a comment.</div>
            <div id="commentsList">
                
            </div>
        </div>
    </div>

    <script>
        
        const favoriteHeart = document.getElementById('favoriteHeart');

        function toggleFavorite() {
            favoriteHeart.classList.toggle('added');
            if (favoriteHeart.classList.contains('added')) {
                favoriteHeart.innerHTML = '‚ù§Ô∏è'; 
            } else {
                favoriteHeart.innerHTML = '‚ô°'; 
            }
        }

        // Star Rating System
        const stars = document.querySelectorAll('.star');
        const ratingWarning = document.getElementById('ratingWarning');

        stars.forEach(star => {
            star.addEventListener('click', () => {
                ratingWarning.style.display = 'block'; // Show warning
            });
        });

        // Discussion System
        const commentInput = document.getElementById('commentInput');
        const submitCommentBtn = document.getElementById('submitCommentBtn');
        const commentWarning = document.getElementById('commentWarning');

        submitCommentBtn.addEventListener('click', () => {
            commentWarning.style.display = 'block'; 
        });

        // Serving Calculator
        document.addEventListener("DOMContentLoaded", function () {
    const servingInput = document.getElementById("servingInput");
    const defaultServingSize = parseInt(servingInput.value); // Store default serving size

    // Store original ingredient quantities
    const ingredientList = document.querySelectorAll("#ingredients-list li");
    ingredientList.forEach(item => {
        item.dataset.originalQuantity = item.dataset.quantity; // Store original quantity
    });

    function adjustIngredients() {
    let originalServings = 1; // Set to 1, as the recipe starts with 1 serving
    let newServings = document.getElementById("servingInput").value;
    let ingredients = document.querySelectorAll("#ingredients-list li");

    ingredients.forEach(ingredient => {
        let baseQuantity = ingredient.getAttribute("data-quantity");

        if (baseQuantity && !isNaN(baseQuantity) && baseQuantity > 0) { // Ensure it's a valid number
            let adjustedQuantity = (baseQuantity / originalServings) * newServings;
            ingredient.innerHTML = `${adjustedQuantity.toFixed(1)} ${ingredient.textContent.replace(/^\d+(\.\d+)?\s*/, '')}`;
        }
    });
}


    // Ensure default serving size is correctly set at load
    servingInput.addEventListener("change", adjustIngredients);
});

    </script>
</body>
</html>
